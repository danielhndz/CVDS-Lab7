<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Lab 8</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    </h:head>

    <f:view>
        <div class="container" style="margin: 0.5em 1% 0.5em 1%;">
            <h2 style="text-align: center;">Registrar Cliente</h2>

            <h:form id="info-form">
                <p:panelGrid columns="4" layout="grid" styleClass="showcase-text-align-center">

                    <p:outputLabel for="nombre" value="Nombre: "/>
                    <p:inputText  id="nombre" type="String" value="#{registroClienteBean.nombre}" required="true" />

                    <p:outputLabel for="documento" value="Documento: "/>
                    <p:inputText  id= "documento" type="Long" value="#{registroClienteBean.documento}" required="true" decimalPlaces="0"/>

                    <p:outputLabel for="telefono" value="Teléfono: "/>
                    <p:inputText  id= "telefono" type="String" value="#{registroClienteBean.telefono}" required="true"/>

                    <p:outputLabel for="direccion" value="Dirección: "/>
                    <p:inputText  id= "direccion" type="String" value="#{registroClienteBean.direccion}" required="true"/>

                    <p:outputLabel for="email" value="Email: "/>
                    <p:inputText  id= "email" type="email" value="#{registroClienteBean.email}" required="true"/>

                </p:panelGrid>
            </h:form>
            <div>
                <p:commandButton style="margin: 0.5em 30% 1em 30%; width: 40%;" ajax="true"
                                 actionListener="#{registroClienteBean.registrarCliente()}" update="info-form client_table" value="Registrar"/>
            </div>

            <h1 style="text-align: center;">Lista de Clientes</h1>
            <p:dataTable id="client_table" var="cliente" value="#{registroClienteBean.consultarClientes()}" rows="20" paginator="true"
                         paginatorPosition="bottom"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} Clientes"
                         rowsPerPageTemplate="10,20,50">
                <p:column headerText="Documento">
                    <h:outputText value="#{cliente.documento}" />
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{cliente.nombre}" />
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{cliente.email}" />
                </p:column>
                <p:column headerText="Dirección">
                    <h:outputText value="#{cliente.direccion}" />
                </p:column>
                <p:column headerText="Teléfono">
                    <h:outputText value="#{cliente.telefono}" />
                </p:column>
                <p:column headerText="Vetado">
                    <h:outputText value="#{cliente.vetado}" />
                </p:column>
                <p:column headerText="Alquiler">
                    <p:button outcome="registro-alquiler?doc=#{cliente.documento}" value="Ver Cliente"/>
                </p:column>
            </p:dataTable>
        </div>
    </f:view>
</html>
